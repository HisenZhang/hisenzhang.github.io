<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/h-favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/h-favicon-16x16.png"><link rel="mask-icon" href="/images/h-logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css"><script class="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"hisenz.com",root:"/",scheme:"Pisces",version:"8.0.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12},copycode:!1,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:"disqus",storage:!0,lazyload:!0,nav:null,activeClass:"disqus"},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"fadeInDown",post_body:"fadeInDown",coll_header:"fadeInLeft",sidebar:"fadeInUp"}},prism:!1,i18n:{placeholder:"Searching...",empty:"We didn't find any results for the search: ${query}",hits_time:"${hits} results found in ${time} ms",hits:"${hits} results found"}}</script><meta name="description" content="We liberate millions of students and teachers from exam-oriented education by reducing attention and time dissipated on training, with the solution entirely directed by mathematical models. – Hisen Z"><meta property="og:type" content="article"><meta property="og:title" content="P.A.E. | Paper Assembly Engine"><meta property="og:url" content="https://hisenz.com/post/P-A-E-The-Paper-Assembly-Engine/index.html"><meta property="og:site_name" content="海森的博客"><meta property="og:description" content="We liberate millions of students and teachers from exam-oriented education by reducing attention and time dissipated on training, with the solution entirely directed by mathematical models. – Hisen Z"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://s1.ax1x.com/2018/07/24/PYnOLF.png"><meta property="og:image" content="https://s1.ax1x.com/2018/07/24/PYy7M6.png"><meta property="og:image" content="https://s1.ax1x.com/2018/07/24/PYnvdJ.png"><meta property="article:published_time" content="2018-07-24T08:07:08.000Z"><meta property="article:modified_time" content="2019-02-12T12:49:17.000Z"><meta property="article:author" content="Hisen Zhang"><meta property="article:tag" content="Spark"><meta property="article:tag" content="News"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://s1.ax1x.com/2018/07/24/PYnOLF.png"><link rel="canonical" href="https://hisenz.com/post/P-A-E-The-Paper-Assembly-Engine/"><script class="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"en"}</script><title>P.A.E. | Paper Assembly Engine | 海森的博客</title><noscript><style>body{margin-top:2rem}.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .sidebar{visibility:visible}.use-motion .footer,.use-motion .header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript><link rel="alternate" href="/rss2.xml" title="海森的博客" type="application/rss+xml">
</head><body itemscope="" itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">海森的博客</h1><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Hacking, Cooking & Thinking</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-tech"><a href="/categories/Technology" rel="section"><i class="fa fa-desktop fa-fw"></i>Tech</a></li><li class="menu-item menu-item-food"><a href="/categories/Food" rel="section"><i class="fa fa-utensils fa-fw"></i>Food</a></li><li class="menu-item menu-item-music"><a href="/categories/Music" rel="section"><i class="fa fa-music fa-fw"></i>Music</a></li><li class="menu-item menu-item-spark"><a href="/categories/Spark" rel="section"><i class="fa fa-heartbeat fa-fw"></i>Spark</a></li><li class="menu-item menu-item-lecture"><a href="/categories/Lecture" rel="section"><i class="fa fa-graduation-cap fa-fw"></i>Lecture</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li></ul></nav></div><div class="toggle sidebar-toggle"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><section class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Overview"><span class="nav-number">1.</span> <span class="nav-text">Overview</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Problems"><span class="nav-number">1.1.</span> <span class="nav-text">The Problems</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#What-is-the-Problem"><span class="nav-number">1.1.1.</span> <span class="nav-text">What is the Problem</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Our-Objectives"><span class="nav-number">1.1.2.</span> <span class="nav-text">Our Objectives</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#How-We-Achieve-it"><span class="nav-number">1.1.3.</span> <span class="nav-text">How We Achieve it</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FAQ"><span class="nav-number">1.2.</span> <span class="nav-text">FAQ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Q1-What-is-P-A-E"><span class="nav-number">1.2.1.</span> <span class="nav-text">Q1 : What is P.A.E.?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Q2-What%E2%80%99s-Special"><span class="nav-number">1.2.2.</span> <span class="nav-text">Q2 : What’s Special?</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#About-the-System"><span class="nav-number">1.3.</span> <span class="nav-text">About the System</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#The-Data-Flow-Cycle"><span class="nav-number">1.3.1.</span> <span class="nav-text">The Data Flow Cycle</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#The-Complete-System"><span class="nav-number">1.3.2.</span> <span class="nav-text">The Complete System</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Past-Paper"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">Past Paper</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Question-Paper"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">Question Paper</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#AI-Report"><span class="nav-number">1.3.2.3.</span> <span class="nav-text">AI Report</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Quiz-Bank"><span class="nav-number">1.3.2.4.</span> <span class="nav-text">Quiz Bank</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Components%E2%80%99-Visibility"><span class="nav-number">1.3.3.</span> <span class="nav-text">Components’ Visibility</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Components"><span class="nav-number">2.</span> <span class="nav-text">Components</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Assembly-Engine"><span class="nav-number">2.1.</span> <span class="nav-text">Assembly Engine</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#User-Interface"><span class="nav-number">2.2.</span> <span class="nav-text">User Interface</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AI-Director"><span class="nav-number">2.3.</span> <span class="nav-text">AI Director</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Pre-Processor"><span class="nav-number">2.3.1.</span> <span class="nav-text">Pre-Processor</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Accessories"><span class="nav-number">2.4.</span> <span class="nav-text">Accessories</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Cutter"><span class="nav-number">2.4.1.</span> <span class="nav-text">Cutter</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Algorithms"><span class="nav-number">3.</span> <span class="nav-text">Algorithms</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TF-IDF"><span class="nav-number">3.1.</span> <span class="nav-text">TF-IDF</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cosine-Similarity"><span class="nav-number">3.2.</span> <span class="nav-text">Cosine Similarity</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ISODATA-amp-K-Means"><span class="nav-number">3.3.</span> <span class="nav-text">ISODATA &amp; K-Means</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Innovations"><span class="nav-number">4.</span> <span class="nav-text">Innovations</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Introduction-to-Innovations"><span class="nav-number">4.1.</span> <span class="nav-text">Introduction to Innovations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSM-Cosine-Similarity-Matrix-storage"><span class="nav-number">4.2.</span> <span class="nav-text">CSM: Cosine Similarity Matrix storage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ISODATA-Python-Module"><span class="nav-number">4.3.</span> <span class="nav-text">ISODATA Python Module</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reflection"><span class="nav-number">5.</span> <span class="nav-text">Reflection</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%80%9CI-have-a-Dream%E2%80%9D"><span class="nav-number">5.1.</span> <span class="nav-text">“I have a Dream”</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Limitations-and-Improvements"><span class="nav-number">5.2.</span> <span class="nav-text">Limitations and Improvements</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Postulates"><span class="nav-number">5.2.1.</span> <span class="nav-text">Postulates</span></a></li></ol></li></ol></li></ol></div></section><section class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Hisen Zhang" src="/images/h-logo.svg"><p class="site-author-name" itemprop="name">Hisen Zhang</p><div class="site-description" itemprop="description">海森的博客 - 技术, 料理 & 爵士乐</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">54</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><span class="site-state-item-count">5</span> <span class="site-state-item-name">categories</span></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">40</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/HisenZhang" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;HisenZhang" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:hisen@hisenz.com" title="E-Mail → mailto:hisen@hisenz.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div><div class="links-of-blogroll animated"><div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i> Hisen & Friends</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://maomihz.com/" title="https:&#x2F;&#x2F;maomihz.com" rel="noopener" target="_blank">MaomiHZ</a></li><li class="links-of-blogroll-item"><a href="https://hivechat.org/" title="https:&#x2F;&#x2F;hivechat.org" rel="noopener" target="_blank">Echo's Hive</a></li></ul></div></section></div></aside><div class="sidebar-dimmer"></div></header><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://hisenz.com/post/P-A-E-The-Paper-Assembly-Engine/"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/h-logo.svg"><meta itemprop="name" content="Hisen Zhang"><meta itemprop="description" content="海森的博客 - 技术, 料理 & 爵士乐"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="海森的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">P.A.E. | Paper Assembly Engine</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2018-07-24 16:07:08" itemprop="dateCreated datePublished" datetime="2018-07-24T16:07:08+08:00">2018-07-24</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2019-02-12 20:49:17" itemprop="dateModified" datetime="2019-02-12T20:49:17+08:00">2019-02-12</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Technology/" itemprop="url" rel="index"><span itemprop="name">Technology</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Disqus: </span><a title="disqus" href="/post/P-A-E-The-Paper-Assembly-Engine/#disqus_thread" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="post/P-A-E-The-Paper-Assembly-Engine/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p>We liberate millions of students and teachers from exam-oriented education by reducing attention and time dissipated on training, with the solution entirely directed by mathematical models.</p><p><em>– Hisen Zhang</em></p></blockquote><span id="more"></span><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><h3 id="The-Problems"><a href="#The-Problems" class="headerlink" title="The Problems"></a>The Problems</h3><h4 id="What-is-the-Problem"><a href="#What-is-the-Problem" class="headerlink" title="What is the Problem"></a>What is the Problem</h4><ol><li>A lot of wastes for printed past paper booklet</li><li>Great difficulty to make up a paper for internal assessment</li><li>No focus for students while practicing</li></ol><h4 id="Our-Objectives"><a href="#Our-Objectives" class="headerlink" title="Our Objectives"></a>Our Objectives</h4><ol><li>Reduced wastes</li><li>An easier life for teachers</li><li>and students.</li></ol><h4 id="How-We-Achieve-it"><a href="#How-We-Achieve-it" class="headerlink" title="How We Achieve it"></a>How We Achieve it</h4><ol><li>Digitize quiz bank</li><li>Automate paper make up process</li><li>Introduce AI Director</li></ol><h3 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h3><h4 id="Q1-What-is-P-A-E"><a href="#Q1-What-is-P-A-E" class="headerlink" title="Q1 : What is P.A.E.?"></a>Q1 : What is P.A.E.?</h4><blockquote><p>An AI directed question paper assembler. P.A.E. stands for “Paper Assembly Engine”.</p><p>Students may use it for exam-training and teachers are allowed to learn about their student’s progress.</p></blockquote><h4 id="Q2-What’s-Special"><a href="#Q2-What’s-Special" class="headerlink" title="Q2 : What’s Special?"></a>Q2 : What’s Special?</h4><blockquote><p>The entire process is directed by Artificial Intelligence.</p><p>Although many digital quiz banks seem to be handy, a traditional quiz bank requires user to select questions manually. Unlike other quiz banks (such as the one offered by <a target="_blank" rel="external nofollow noopener noreferrer" href="https://ibo.org/#">THE INTERNATIONAL BACCALAUREATE®</a>), our system enables 100% automated process, from selection to assembly to response collection. This feature is achieved by the <code>Data Flow Cycle</code>, a fundamental idea introduced later in this chapter.</p></blockquote><h3 id="About-the-System"><a href="#About-the-System" class="headerlink" title="About the System"></a>About the System</h3><p>To understand the complete system, it would be better to first get familiar with the data flow loop between three main subsystems.</p><h4 id="The-Data-Flow-Cycle"><a href="#The-Data-Flow-Cycle" class="headerlink" title="The Data Flow Cycle"></a>The Data Flow Cycle</h4><p><img src="https://s1.ax1x.com/2018/07/24/PYnOLF.png" alt="system_loop"></p><p>The entire system consists of three subsystems: AI Director, Assembly Engine, and User Interface.</p><p>The data work cycle works like this:</p><ul><li>The <code>AI Director</code> generates weights depending on feedback.</li><li>The <code>Assembly Engine</code> assembles question papers referring to the weights.</li><li>The <code>User Interface</code> displays papers assembled and collects feedback.</li></ul><p><strong>Note:</strong> Chapter 2 describes the three subsystems in details.</p><h4 id="The-Complete-System"><a href="#The-Complete-System" class="headerlink" title="The Complete System"></a>The Complete System</h4><p><img src="https://s1.ax1x.com/2018/07/24/PYy7M6.png" alt="complete_system2"></p><p>Beside the subsystems, other components are labeled in the diagram above. The input of the system is the past paper published on the Internet. The output has two parts: the generated question paper and the AI reports.</p><h5 id="Past-Paper"><a href="#Past-Paper" class="headerlink" title="Past Paper"></a>Past Paper</h5><p>For this program, the A-Level series question paper published by Cambridge International Examination is applied. They are available to qualified centers and teachers.</p><h5 id="Question-Paper"><a href="#Question-Paper" class="headerlink" title="Question Paper"></a>Question Paper</h5><p>The <code>User Interface</code> sends AJAX requests to the API. The return is in JSON. Then the Javascript code in user’s browser refreshes the web page partially.</p><p>The question paper is presented in HTML.</p><h5 id="AI-Report"><a href="#AI-Report" class="headerlink" title="AI Report"></a>AI Report</h5><p>AI report is both available to students and teacher. The contents are generated for two groups of users respectively. For students, this report details their strength and weakness; for teachers, this shows the overall statistics in the system, and a specific profile for each student as well.</p><h5 id="Quiz-Bank"><a href="#Quiz-Bank" class="headerlink" title="Quiz Bank"></a>Quiz Bank</h5><p>In this project, the quiz bank is implemented with <code>sqlite3</code>. The database is light enough to operate and stable enough to keep the questions.</p><p>In most cases, the database is read-only. When multi-user feature works, another database for storing account data should be deployed separately.</p><p>Both <code>Assembly Engine</code> or <code>AI Director</code> may access to the quiz bank.</p><h4 id="Components’-Visibility"><a href="#Components’-Visibility" class="headerlink" title="Components’ Visibility"></a>Components’ Visibility</h4><p><img src="https://s1.ax1x.com/2018/07/24/PYnvdJ.png" alt="visibility"></p><p>Only the <code>User Interface</code> is visible to the users. The rest parts are running in the background. Communication across the line of visibility is implemented with HTTP restful API.</p><h2 id="Components"><a href="#Components" class="headerlink" title="Components"></a>Components</h2><h3 id="Assembly-Engine"><a href="#Assembly-Engine" class="headerlink" title="Assembly Engine"></a>Assembly Engine</h3><p>The assembly engine takes weights as input. The questions selected are based on weights on different topics. The output is transmitted in JSON via the API.</p><p>There are different modes for assembly engine. The mode is specified implicitly (or explicitly in some occasions) with the parameters passed to the API.</p><p>The interfaces and usage are listed below:</p><table><thead><tr><th style="text-align:center">Interface</th><th style="text-align:center">Method</th><th style="text-align:center">Parameter</th><th style="text-align:center">Comment</th></tr></thead><tbody><tr><td style="text-align:center">/paper/</td><td style="text-align:center">[GET]</td><td style="text-align:center">topic_keyword, similar_to</td><td style="text-align:center">If topic_keyword is specified, fetch the questions with the keyword; else select the questions most similar to the value.</td></tr></tbody></table><h3 id="User-Interface"><a href="#User-Interface" class="headerlink" title="User Interface"></a>User Interface</h3><p>The user interface takes the JSON from paper information to render them in the web page. When users type command into the search bar, the Javascript code loaded into user’s web browser will send AJAX requests to the back end. The API server at the back end calls the assembly engine and response with the information of question in JSON.</p><p><strong>Sample Response</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;citation&quot;</span>: <span class="number">0</span>, </span><br><span class="line">    <span class="attr">&quot;id&quot;</span>: <span class="number">24</span>, </span><br><span class="line">    <span class="attr">&quot;op_a&quot;</span>: <span class="literal">null</span>, </span><br><span class="line">    <span class="attr">&quot;op_b&quot;</span>: <span class="literal">null</span>, </span><br><span class="line">    <span class="attr">&quot;op_c&quot;</span>: <span class="literal">null</span>, </span><br><span class="line">    <span class="attr">&quot;op_d&quot;</span>: <span class="literal">null</span>, </span><br><span class="line">    <span class="attr">&quot;paper&quot;</span>: <span class="string">&quot;13&quot;</span>, </span><br><span class="line">    <span class="attr">&quot;q_ans&quot;</span>: <span class="string">&quot;A&quot;</span>, </span><br><span class="line">    <span class="attr">&quot;q_content&quot;</span>: <span class="string">&quot;26 Which statement about waves is correct?\n\nA All electromagnetic waves travel at the same speed in a vacuum...&quot;</span>, </span><br><span class="line">    <span class="attr">&quot;q_num&quot;</span>: <span class="number">2</span>, </span><br><span class="line">    <span class="attr">&quot;q_path&quot;</span>: <span class="string">&quot;data/cropped/9702_w14_qp_13_17_1.png&quot;</span>, </span><br><span class="line">    <span class="attr">&quot;quality&quot;</span>: <span class="literal">null</span>, </span><br><span class="line">    <span class="attr">&quot;season&quot;</span>: <span class="string">&quot;w&quot;</span>, </span><br><span class="line">    <span class="attr">&quot;subject&quot;</span>: <span class="string">&quot;9702&quot;</span>, </span><br><span class="line">    <span class="attr">&quot;vector&quot;</span>: <span class="literal">null</span>, </span><br><span class="line">    <span class="attr">&quot;wrong&quot;</span>: <span class="literal">null</span>, </span><br><span class="line">    <span class="attr">&quot;year&quot;</span>: <span class="string">&quot;14&quot;</span></span><br><span class="line">  &#125;, </span><br></pre></td></tr></table></figure><p>Explanation to some important fields:</p><table><thead><tr><th style="text-align:center">Field</th><th style="text-align:center">Type</th><th style="text-align:center">Comment</th></tr></thead><tbody><tr><td style="text-align:center">citation</td><td style="text-align:center">int</td><td style="text-align:center">How many times the question is referred</td></tr><tr><td style="text-align:center">id</td><td style="text-align:center">int</td><td style="text-align:center">The unique id of the question in the quiz bank</td></tr><tr><td style="text-align:center">q_ans</td><td style="text-align:center">string</td><td style="text-align:center">The answer to the question</td></tr><tr><td style="text-align:center">q_path</td><td style="text-align:center">string</td><td style="text-align:center">Add this to the images’ <code>src</code> attribute</td></tr><tr><td style="text-align:center">quality</td><td style="text-align:center">int</td><td style="text-align:center">The mark for quality. Currently reserved.</td></tr></tbody></table><h3 id="AI-Director"><a href="#AI-Director" class="headerlink" title="AI Director"></a>AI Director</h3><p>The main role played by AI Director is to decide which question to be selected from the quiz bank.</p><h4 id="Pre-Processor"><a href="#Pre-Processor" class="headerlink" title="Pre-Processor"></a>Pre-Processor</h4><p>Since the quiz bank is designed to be updated once a season, it does not make sense to run AI codes over the quiz bank over and over. The idea here is to pre-process through all records in the database and store this information (mainly matrices) on the disk. This method also accelerates the process for question selecting since the decision is made by referring to the matrices with calculated values.</p><p>There will be more introduction to this component in later chapters.</p><h3 id="Accessories"><a href="#Accessories" class="headerlink" title="Accessories"></a>Accessories</h3><h4 id="Cutter"><a href="#Cutter" class="headerlink" title="Cutter"></a>Cutter</h4><p>The cutter is responsible for cutting the images of questions and fetch their answers from the input, which is the past paper in PDF format, and append these data into the database.</p><p>The cutter should be an important component (or, subsystem). However, since this part of the program is highly curriculum related, and only little usage of this function (the update interval is supposed to be 4 months or so), I decided to classify this function as an accessory.</p><p>By the way, this part takes a great portion of time over the development.</p><h2 id="Algorithms"><a href="#Algorithms" class="headerlink" title="Algorithms"></a>Algorithms</h2><p>Most algorithms applied in this program are included in the pre-processor.</p><h3 id="TF-IDF"><a href="#TF-IDF" class="headerlink" title="TF-IDF"></a>TF-IDF</h3><p>This method lowers the weights for stopwords (i.e. “and”,”the”) and therefore it highlights the featured words. Sorting these words gives a keyword list used to generate word vectors.</p><h3 id="Cosine-Similarity"><a href="#Cosine-Similarity" class="headerlink" title="Cosine Similarity"></a>Cosine Similarity</h3><p>The cosine distance applies to vectors in spaces with more than three dimensions as well. This made it possible to calculate the similarity between two vectors. The result of cosine distance gets closer to zero if two vectors are more alike. The similarity is defined by $1-\cos\theta$.</p><p>Therefore the difficulty is to generate a vector for each question: and such a vector must be able to display the feature of that question. An assumption is made: the words appeared in the text do have a strong connection to the topic behind. For instance, the word “spring” will come along with the topic “elastic deformation”.</p><h3 id="ISODATA-amp-K-Means"><a href="#ISODATA-amp-K-Means" class="headerlink" title="ISODATA &amp; K-Means"></a>ISODATA &amp; K-Means</h3><p>K-Means clustering works based on Euclidean distance. With the given number of K, the output of this algorithm is the K cluster, Such a method is very straightforward.</p><p>However, this is also the problem. Although only once hyperparameter needs to be specified, The value of K is difficult to decide. In practical, the K is often decided arbitrarily.</p><p>As an improvement to the K-Means algorithm, Iterative Self-Organizing Data Analysis Technique will refer to the K value given, but modify the value during the process as well. This is achieved by splitting and merging the clusters once according to the following conditions:</p><ul><li>If the standard deviation within a cluster exceeds $\theta_{split}$</li><li>If the distance between two centroids are closer than $\theta_{merge}$</li><li>etc.</li></ul><h2 id="Innovations"><a href="#Innovations" class="headerlink" title="Innovations"></a>Innovations</h2><h3 id="Introduction-to-Innovations"><a href="#Introduction-to-Innovations" class="headerlink" title="Introduction to Innovations"></a>Introduction to Innovations</h3><p>While programming this system, some functions already integrated into standard or third-party modules do not fit my case perfectly. For instance, I first planned to use CSV (comma separated values) to store the matrix of cosine similarity. However, storing in text not only occupies large storage space but also has a loss in data precision. Therefore I defined a type of file to store this matrix efficiently.</p><h3 id="CSM-Cosine-Similarity-Matrix-storage"><a href="#CSM-Cosine-Similarity-Matrix-storage" class="headerlink" title="CSM: Cosine Similarity Matrix storage"></a>CSM: Cosine Similarity Matrix storage</h3><p>As suggested in earlier chapter, the matrix of cosine similarity looks like this:<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">0.2432432</span>],</span><br><span class="line"> [<span class="number">0.2343243</span>,<span class="number">0.0783058</span>],</span><br><span class="line"> [<span class="number">0.0</span>,<span class="number">0.003256</span>,<span class="number">0.18034235</span>]]</span><br></pre></td></tr></table></figure><br>The calculated cosine similarity matrix is symmetrical. This means it is possible to cut the size in half when it comes to storage, whether in the memory or on the disk. To be precise, the actual elements required to restore a complete n by n matrix is:<p></p><p>$\frac {1}{2}n (n-1)$</p><p>In this case, the values are in the type of float. Each float element has the size of 4 bytes. Therefore the total size of the file is $2n(n-1)$ bytes.</p><p>The built-in function in Python repr() convert the objects in strings, and they can be restored to object with eval(). However, float data here must experience loss in precision because the data is rounded to some digits for saving storage space.</p><p>The comparison below may show how the solution makes a difference. Rounded to 5 digits, a “float” stored in string occupies 8 bytes on average (with “0.” and a comma). n is the dimension of the matrix.</p><table><thead><tr><th style="text-align:center">n</th><th style="text-align:center">CSM</th><th style="text-align:center">Round(5)</th><th style="text-align:center">Round(8)</th></tr></thead><tbody><tr><td style="text-align:center">100</td><td style="text-align:center">19.8 KB</td><td style="text-align:center">39.6 KB</td><td style="text-align:center">54.5 KB</td></tr><tr><td style="text-align:center">1000</td><td style="text-align:center">2 MB</td><td style="text-align:center">4 MB</td><td style="text-align:center">5.5 MB</td></tr><tr><td style="text-align:center">10000</td><td style="text-align:center">200 MB</td><td style="text-align:center">400 MB</td><td style="text-align:center">550 MB</td></tr></tbody></table><p>Some advantages of applying CSM format:</p><ul><li><p>No loss in data precision</p></li><li><p>More compact storage</p></li></ul><p>In reality, the first 12 bytes are reserved for storing the dimension of the matrix and the values on the symmetrical axis. The following table shows the header of <code>smc</code> files.</p><table><thead><tr><th style="text-align:center">Field</th><th style="text-align:center">Type</th><th style="text-align:center">Size</th><th style="text-align:center">Comment</th></tr></thead><tbody><tr><td style="text-align:center">SIZE</td><td style="text-align:center">unsigned long</td><td style="text-align:center">8</td><td style="text-align:center">Dimension</td></tr><tr><td style="text-align:center">SYM_VAL</td><td style="text-align:center">float</td><td style="text-align:center">4</td><td style="text-align:center">Values on the symmetrical axis</td></tr><tr><td style="text-align:center">DATA</td><td style="text-align:center">float</td><td style="text-align:center">4</td><td style="text-align:center">Elements in the matrix</td></tr></tbody></table><h3 id="ISODATA-Python-Module"><a href="#ISODATA-Python-Module" class="headerlink" title="ISODATA Python Module"></a>ISODATA Python Module</h3><p>Some projects like PyRadar do integrate the function of ISODATA clustering for image processing. However, there is not a ISODATA library for general purposes. Therefore I started to implement the code from scratch. For making the life easier for other programmers, I decide to make it publicly available.</p><p>This module is for general purposes by allowing vectors as input and the vectors in clusters as output.</p><h2 id="Reflection"><a href="#Reflection" class="headerlink" title="Reflection"></a>Reflection</h2><h3 id="“I-have-a-Dream”"><a href="#“I-have-a-Dream”" class="headerlink" title="“I have a Dream”"></a>“I have a Dream”</h3><blockquote><p>I have a dream.</p><p>I have a dream, that students may have some spare time, doing some coolest things with coolest people. This project helps by raising the efficiency of training.</p><p>I have a dream, that teachers don’t have to study for the exams, but to study in the fields they are talented. P.A.E. automate this process with machine learning.</p><p>I have a dream, that students may join pure project-based study, instructed by their teachers, instead of being prisoned by examinations…</p><p>I have a dream.</p></blockquote><h3 id="Limitations-and-Improvements"><a href="#Limitations-and-Improvements" class="headerlink" title="Limitations and Improvements"></a>Limitations and Improvements</h3><h4 id="Postulates"><a href="#Postulates" class="headerlink" title="Postulates"></a>Postulates</h4><p>This system is designed to be valid based on these following ‘believed-to-be-true’ statements:</p><ul><li>“Practice makes perfect.”</li><li>The keywords show some features of the text.</li></ul><p>So far these postulates are widely validated. However, no solid shreds of evidence suggest they are truth. In other words, if these statements are proved to be wrong, the system may not be effective as it was proposed.</p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"><strong>Post author: </strong>Hisen Zhang</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://hisenz.com/post/P-A-E-The-Paper-Assembly-Engine/" title="P.A.E. | Paper Assembly Engine">https://hisenz.com/post/P-A-E-The-Paper-Assembly-Engine/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/en" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="post-tags"><a href="/tags/Spark/" rel="tag"># Spark</a> <a href="/tags/News/" rel="tag"># News</a></div><div class="post-nav"><div class="post-nav-item"><a href="/post/Fly-me-to-the-moon/" rel="prev" title="Fly Me to the Moon"><i class="fa fa-chevron-left"></i> Fly Me to the Moon</a></div><div class="post-nav-item"><a href="/post/A-Example-of-Docker-in-Reality/" rel="next" title="A Example of Docker in Reality">A Example of Docker in Reality <i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:t}=CONFIG.comments;if(CONFIG.comments.storage&&(t=localStorage.getItem("comments_active")||t),t){const e=document.querySelector(`a[href="#comment-${t}"]`);e&&e.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{if(!t.target.matches(".tabs-comment .tab-content .tab-pane"))return;const e=t.target.classList[1];localStorage.setItem("comments_active",e)})</script></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Hisen Zhang</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">NexT.Pisces</a></div></div></footer><script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script>if("undefined"==typeof MathJax){window.MathJax={tex:{inlineMath:{"[+]":[["$","$"]]},tags:"ams"},options:{renderActions:{findScript:[10,e=>{document.querySelectorAll('script[type^="math/tex"]').forEach(t=>{const a=!!t.type.match(/; *mode=display/),n=new e.options.MathItem(t.textContent,e.inputJax[0],a),d=document.createTextNode("");t.parentNode.replaceChild(d,t),n.start={node:d,delim:"",n:0},n.end={node:d,delim:"",n:0},e.math.push(n)})},"",!1],insertedScript:[200,()=>{document.querySelectorAll("mjx-container").forEach(e=>{const t=e.parentNode;"li"===t.nodeName.toLowerCase()&&t.parentNode.classList.add("has-jax")})},"",!1]}}};const e=document.createElement("script");e.src="//cdn.jsdelivr.net/npm/mathjax@3.1.0/es5/tex-mml-chtml.js",e.defer=!0,document.head.appendChild(e)}else MathJax.startup.document.state(0),MathJax.typesetClear(),MathJax.texReset(),MathJax.typeset()</script><script>function loadCount(){var d=document,n=d.createElement("script");n.src="https://hisenz.disqus.com/count.js",n.id="dsq-count-scr",(d.head||d.body).appendChild(n)}window.addEventListener("load",loadCount,!1)</script><script>var disqus_config=function(){this.page.url="https://hisenz.com/post/P-A-E-The-Paper-Assembly-Engine/",this.page.identifier="post/P-A-E-The-Paper-Assembly-Engine/",this.page.title="P.A.E. | Paper Assembly Engine"};NexT.utils.loadComments("#disqus_thread",()=>{if(window.DISQUS)DISQUS.reset({reload:!0,config:disqus_config});else{var e=document,s=e.createElement("script");s.src="https://hisenz.disqus.com/embed.js",s.setAttribute("data-timestamp",""+ +new Date),(e.head||e.body).appendChild(s)}})</script></body></html>